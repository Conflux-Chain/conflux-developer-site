(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{138:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return b})),n.d(t,"toc",(function(){return l})),n.d(t,"default",(function(){return s}));var a=n(3),i=n(7),c=(n(0),n(182)),o={id:"pos_rpc",title:"pos Namespace",custom_edit_url:"https://github.com/Conflux-Chain/conflux-doc/edit/master/docs/RPCs/pos-rpc.md",keywords:["pos-rpc"]},b={unversionedId:"conflux-doc/docs/RPCs/pos_rpc",id:"conflux-doc/docs/RPCs/pos_rpc",isDocsHomePage:!1,title:"pos Namespace",description:"conflux-rust introduces the PoS finality starting from v2.0.0 to speed up the finality of blocks and prevent 51% attacks. PoS finality will introduce an independent PoS chain for PoS consensus and finalizing PoW blocks. Correspondingly, PoS also has its own RPC methods for obtaining data from the PoS chain.",source:"@site/docs/conflux-doc/docs/RPCs/pos-rpc.md",sourceDirName:"conflux-doc/docs/RPCs",slug:"/conflux-doc/docs/RPCs/pos_rpc",permalink:"/conflux-doc/docs/RPCs/pos_rpc",editUrl:"https://github.com/Conflux-Chain/conflux-doc/edit/master/docs/RPCs/pos-rpc.md",version:"current",frontMatter:{id:"pos_rpc",title:"pos Namespace",custom_edit_url:"https://github.com/Conflux-Chain/conflux-doc/edit/master/docs/RPCs/pos-rpc.md",keywords:["pos-rpc"]},sidebar:"api",previous:{title:"txpool Namespace",permalink:"/conflux-doc/docs/RPCs/txpool_rpc"},next:{title:"debug Namespace",permalink:"/conflux-doc/docs/RPCs/debug_rpc"}},l=[{value:"Basic Concepts",id:"basic-concepts",children:[{value:"epoch",id:"epoch",children:[]},{value:"round",id:"round",children:[]},{value:"block.number",id:"blocknumber",children:[]},{value:"pivotDecision",id:"pivotdecision",children:[]},{value:"PoS Address",id:"pos-address",children:[]}]},{value:"PoS Model",id:"pos-model",children:[{value:"AccountStatus",id:"accountstatus",children:[]},{value:"Decision",id:"decision",children:[]}]},{value:"RPCs",id:"rpcs",children:[{value:"pos_getStatus",id:"pos_getstatus",children:[]},{value:"pos_getAccount",id:"pos_getaccount",children:[]},{value:"Parameters",id:"parameters-1",children:[]},{value:"pos_getCommittee",id:"pos_getcommittee",children:[]},{value:"pos_getBlockByHash",id:"pos_getblockbyhash",children:[]},{value:"pos_getBlockByNumber",id:"pos_getblockbynumber",children:[]},{value:"pos_getRewardsByEpoch",id:"pos_getrewardsbyepoch",children:[]},{value:"pos_getTransactionByNumber",id:"pos_gettransactionbynumber",children:[]}]}],r={toc:l};function s(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(c.b)("wrapper",Object(a.a)({},r,n,{components:t,mdxType:"MDXLayout"}),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"conflux-rust")," introduces the PoS finality starting from v2.0.0 to speed up the finality of blocks and prevent 51% attacks. PoS finality will introduce an independent PoS chain for PoS consensus and finalizing PoW blocks. Correspondingly, PoS also has its own RPC methods for obtaining data from the PoS chain."),Object(c.b)("p",null,"Currently, only the archive nodes of conflux-rust can provide PoS RPC service to the public. ",Object(c.b)("inlineCode",{parentName:"p"},"public_rpc_apis")," needs to be configured to open RPC."),Object(c.b)("p",null,"You can add the ",Object(c.b)("inlineCode",{parentName:"p"},"pos")," group to the current RPC method group."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-js"},'public_rpc_apis = "safe,pos"\n')),Object(c.b)("p",null,"Or just set ",Object(c.b)("inlineCode",{parentName:"p"},"public_rpc_apis")," to ",Object(c.b)("inlineCode",{parentName:"p"},"all")," to open all RPC methods."),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-js"},'public_rpc_apis = "all"\n')),Object(c.b)("h2",{id:"basic-concepts"},"Basic Concepts"),Object(c.b)("h3",{id:"epoch"},"epoch"),Object(c.b)("p",null,"The concept of epoch is also used in PoS. However, different from the epoch in PoW, an epoch in PoS represents the term of a committee, starting from term ",Object(c.b)("inlineCode",{parentName:"p"},"1"),". Each epoch is equivalent to ",Object(c.b)("inlineCode",{parentName:"p"},"one hour")," on average. After each epoch, a part of the members of the committee are replaced. The rewards for participating in PoS consensus are also given on an epoch basis."),Object(c.b)("h3",{id:"round"},"round"),Object(c.b)("p",null,"A PoS chain will on average perform one round of consensus ",Object(c.b)("inlineCode",{parentName:"p"},"every minute")," (i.e. try to generate a PoS block). This means that each epoch will have ",Object(c.b)("inlineCode",{parentName:"p"},"60")," rounds, and with each ",Object(c.b)("inlineCode",{parentName:"p"},"new epoch"),", the round will start from ",Object(c.b)("inlineCode",{parentName:"p"},"1")," again."),Object(c.b)("p",null,"Note: Not every round will generate a block. there may be network or consensus failures preventing a block from generating."),Object(c.b)("h3",{id:"blocknumber"},"block.number"),Object(c.b)("p",null,"The block.number is the ",Object(c.b)("inlineCode",{parentName:"p"},"height")," of the block, and is added by one for each new block generated."),Object(c.b)("p",null,"After a PoS block is proposed by a committee member, it will be sent to the network for voting. When the block collects enough votes, it is labeled as ",Object(c.b)("inlineCode",{parentName:"p"},"voted"),". However, the block has yet been committed. When three consecutive blocks are created, the block corresponding to the first round will be submitted. Then its state will change from ",Object(c.b)("inlineCode",{parentName:"p"},"voted")," to ",Object(c.b)("inlineCode",{parentName:"p"},"committed"),"."),Object(c.b)("h3",{id:"pivotdecision"},"pivotDecision"),Object(c.b)("p",null,"pivotDecision is the PoS chain's final decision on a block in the PoW chain. Once a block in the PoW is referenced by the PoS, the PoW block is finalized and there will be no further reversion. Blocks in the PoS chain will include PivotDecision attributes, indicating that this PoS block has finalized a block in the PoW chain. The pivotDecision is the block number or hash value of a block in the PoW chain."),Object(c.b)("h3",{id:"pos-address"},"PoS Address"),Object(c.b)("p",null,"Unlike the format of the PoW address, the PoS account address is a 256-bit hash value, e.g:"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"0x046ca462890f25ed9394ca9f92c979ff48e1738a81822ecab96d83813c1a433c")),Object(c.b)("h2",{id:"pos-model"},"PoS Model"),Object(c.b)("h3",{id:"accountstatus"},"AccountStatus"),Object(c.b)("p",null,"After an account registers to participate in PoS consensus, or adds staking to votes, the votes will first go into the ",Object(c.b)("inlineCode",{parentName:"p"},"inQueue")," state and then become ",Object(c.b)("inlineCode",{parentName:"p"},"locked")," after ",Object(c.b)("inlineCode",{parentName:"p"},"seven days"),".\nWhen the user makes an unlock command, the votes to be unlocked will first go into the ",Object(c.b)("inlineCode",{parentName:"p"},"outQueue")," state. Then it also takes ",Object(c.b)("inlineCode",{parentName:"p"},"seven days")," to become ",Object(c.b)("inlineCode",{parentName:"p"},"unlocked"),"."),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"availableVotes"),": ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - the number of votes currently available for the account. Equals to ",Object(c.b)("inlineCode",{parentName:"li"},"sum inQueue")," + ",Object(c.b)("inlineCode",{parentName:"li"},"locked")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"forfeited"),": ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - the number of votes that are locked and cannot be retrieved if the account is identified as malicious."),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"forceRetired"),": ","[",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY"),"]"," - the block number when the votes was retired"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"inQueue"),": ",Object(c.b)("inlineCode",{parentName:"li"},"Array")," of ",Object(c.b)("a",{parentName:"li",href:"#votesinqueue"},"VotesInQueue")," - the number of votes that are currently waiting to be locked"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"locked"),": ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - the number of votes that are currently locked"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"outQueue"),": ",Object(c.b)("inlineCode",{parentName:"li"},"Array")," of ",Object(c.b)("a",{parentName:"li",href:"#votesinqueue"},"VotesInQueue")," - the number of votes that are currently waiting to be unlocked"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"unlocked"),": ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - the number of users total unlocked votes in history")),Object(c.b)("h3",{id:"decision"},"Decision"),Object(c.b)("p",null,"The PoS chain's decision on the height of the PoW chain. The block of the PoW that is decided by the PoS chain is the Finalized block."),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"height"),": ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - the height of the PoW block"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"blockHash"),": ",Object(c.b)("inlineCode",{parentName:"li"},"HASH")," - the hash value of the PoW block")),Object(c.b)("h4",{id:"votesinqueue"},"VotesInQueue"),Object(c.b)("p",null,"The information regarding a user's in-queue votes."),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"endBlockNumber"),": ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - block number when the state ends"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"power"),": ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - number of votes in the current status")),Object(c.b)("h2",{id:"rpcs"},"RPCs"),Object(c.b)("h3",{id:"pos_getstatus"},"pos_getStatus"),Object(c.b)("p",null,"Returns the current status of the PoS chain."),Object(c.b)("h4",{id:"parameters"},"Parameters"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"Empty")),Object(c.b)("h4",{id:"returns"},"Returns"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"Object")," - PoS status object."),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"epoch"),": ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - The current epoch number of the PoS chain."),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"latestCommitted"),": ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - The number of the latest committed block. Committed blocks will not be reverted"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"latestVoted"),": ","[",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY"),"]"," - The number of the latest successfully voted block, or ",Object(c.b)("inlineCode",{parentName:"li"},"null")," (if there are no blocks completed voting)."),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"pivotDecision"),": ",Object(c.b)("a",{parentName:"li",href:"#decision"},Object(c.b)("inlineCode",{parentName:"a"},"Decision"))," - The PoS chain's finalized decision about the latest PoW pivot block. ")),Object(c.b)("h4",{id:"example"},"Example"),Object(c.b)("p",null,"Request"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-sh"},'curl --location --request POST \'http://localhost:12537\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "id": 1,\n    "jsonrpc": "2.0",\n    "method": "pos_getStatus",\n    "params": []\n}\'\n')),Object(c.b)("p",null,"Result"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-json"},'{\n    "jsonrpc": "2.0",\n    "result": {\n        "epoch": "0x56",\n        "latestCommitted": "0x140c",\n        "latestVoted": "0x140e",\n        "pivotDecision": {\n          "height": "0x113af0",\n          "blockHash": "0x88df016429689c079f3b2f6ad39fa052532c56795b733da78a91ebe6a713944b"\n        }\n    },\n    "id": 1\n}\n')),Object(c.b)("h3",{id:"pos_getaccount"},"pos_getAccount"),Object(c.b)("p",null,"Get the PoS account information"),Object(c.b)("h3",{id:"parameters-1"},"Parameters"),Object(c.b)("ol",null,Object(c.b)("li",{parentName:"ol"},Object(c.b)("inlineCode",{parentName:"li"},"ADDRESS"),": 32 Bytes - PoS account address"),Object(c.b)("li",{parentName:"ol"},"[",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY"),"]",": block number, optional for querying the status of the account at a certain block height")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-json"},'params: [\n  "0x88df016429689c079f3b2f6ad39fa052532c56795b733da78a91ebe6a713944b",\n  "0x100"\n]\n')),Object(c.b)("h4",{id:"returns-1"},"Returns"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"Object")," - the account object, or ",Object(c.b)("inlineCode",{parentName:"p"},"null")," (if the account corresponding to the address does not exist)"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"address"),": ",Object(c.b)("inlineCode",{parentName:"li"},"ADDRESS")," - the account address"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"blockNumber"),": ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - the block number corresponding to the status"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"status"),": ",Object(c.b)("inlineCode",{parentName:"li"},"OBJECT")," - the user's current status, see ",Object(c.b)("a",{parentName:"li",href:"#accountstatus"},"Account Status")," for more information")),Object(c.b)("h4",{id:"example-1"},"Example"),Object(c.b)("p",null,"Request"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-sh"},'curl --location --request POST \'http://localhost:12537\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "id": 1,\n    "jsonrpc": "2.0",\n    "method": "pos_getAccount",\n    "params": ["0x046ca462890f25ed9394ca9f92c979ff48e1738a81822ecab96d83813c1a433c"]\n}\'\n')),Object(c.b)("p",null,"Response"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-json"},'{\n    "jsonrpc": "2.0",\n    "result": {\n        "address": "0x046ca462890f25ed9394ca9f92c979ff48e1738a81822ecab96d83813c1a433c",\n        "blockNumber": "0x14a7",\n        "status": {\n            "availableVotes": "0x513",\n            "forfeited": "0x0",\n            "forceRetired": null,\n            "inQueue": [],\n            "locked": "0x513",\n            "outQueue": [],\n            "unlocked": "0x0"\n        }\n    },\n    "id": 1\n}\n')),Object(c.b)("h3",{id:"pos_getcommittee"},"pos_getCommittee"),Object(c.b)("p",null,"Get the current PoS committee information in default. It is also able to get the committee information for a block in history by specifying the blockNumber."),Object(c.b)("h4",{id:"parameters-2"},"Parameters"),Object(c.b)("ol",null,Object(c.b)("li",{parentName:"ol"},"[",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY"),"]",":  block number, optional for querying the committee information at a certain block height")),Object(c.b)("h4",{id:"returns-2"},"Returns"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"currentCommittee"),": ",Object(c.b)("inlineCode",{parentName:"li"},"OBJECT")," -  current committee members, see ",Object(c.b)("a",{parentName:"li",href:"#currentcommittee"},"CurrentCommittee")," for more information"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"elections"),": ",Object(c.b)("inlineCode",{parentName:"li"},"Array")," - nodes who are running for election")),Object(c.b)("h5",{id:"currentcommittee"},"CurrentCommittee"),Object(c.b)("p",null,"Current committee information"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"epochNumber"),": ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - epoch number of the committee term"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"nodes"),": ",Object(c.b)("inlineCode",{parentName:"li"},"Array")," of ",Object(c.b)("a",{parentName:"li",href:"#committenode"},"CommitteNode")," - list of committee members"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"quorumVotingPower"),": ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - the minimum number of votes needed to reach consensus"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"totalVotingPower"),": ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - the total number of votes of the current committee members")),Object(c.b)("h5",{id:"committenode"},"CommitteNode"),Object(c.b)("p",null,"Committee member information"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"address"),": ",Object(c.b)("inlineCode",{parentName:"li"},"ADDRESS")," - account address"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"votingPower"),": ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - number of votes")),Object(c.b)("h5",{id:"election"},"Election"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"isFinalized"),": ",Object(c.b)("inlineCode",{parentName:"li"},"BOOLEAN")," - whether the election is finalized or not"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"startBlockNumber"),": ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - the starting block number"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"topElectingNodes"),": ",Object(c.b)("inlineCode",{parentName:"li"},"Array")," of ",Object(c.b)("a",{parentName:"li",href:"#committenode"},"CommitteNode")," - the top ranked 50 nodes after election")),Object(c.b)("h4",{id:"example-2"},"Example"),Object(c.b)("p",null,"Request"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-sh"},'curl --location --request POST \'http://localhost:12537\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "id": 1,\n    "jsonrpc": "2.0",\n    "method": "pos_getCommittee",\n    "params": []\n}\'\n')),Object(c.b)("p",null,"Response"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-json"},'{\n    "jsonrpc": "2.0",\n    "result": {\n        "currentCommittee": {\n            "epochNumber": "0x5a",\n            "nodes": [\n                {\n                    "address": "0x046ca462890f25ed9394ca9f92c979ff48e1738a81822ecab96d83813c1a433c",\n                    "votingPower": "0xc8"\n                },\n                {\n                    "address": "0x459b19e745eb410c3696ff1ed15f9de9bb46aa5fefc27b0b6e8b8d7aaadfe8c0",\n                    "votingPower": "0x32"\n                }\n            ],\n            "quorumVotingPower": "0xa7",\n            "totalVotingPower": "0xfa"\n        },\n        "elections": [\n            {\n                "isFinalized": false,\n                "startBlockNumber": "0x1518",\n                "topElectingNodes": [\n                    {\n                        "address": "0x046ca462890f25ed9394ca9f92c979ff48e1738a81822ecab96d83813c1a433c",\n                        "votingPower": "0x2a"\n                    },\n                    {\n                        "address": "0x459b19e745eb410c3696ff1ed15f9de9bb46aa5fefc27b0b6e8b8d7aaadfe8c0",\n                        "votingPower": "0x8"\n                    }\n                ]\n            },\n            {\n                "isFinalized": false,\n                "startBlockNumber": "0x1554",\n                "topElectingNodes": []\n            }\n        ]\n    },\n    "id": 1\n}\n')),Object(c.b)("h3",{id:"pos_getblockbyhash"},"pos_getBlockByHash"),Object(c.b)("p",null,"Get block information by its hash value"),Object(c.b)("h4",{id:"parameters-3"},"Parameters"),Object(c.b)("ol",null,Object(c.b)("li",{parentName:"ol"},Object(c.b)("inlineCode",{parentName:"li"},"HASH"),": the hash value of the block")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-json"},'params: [\n  "0x88df016429689c079f3b2f6ad39fa052532c56795b733da78a91ebe6a713944b"\n]\n')),Object(c.b)("h4",{id:"returns-3"},"Returns"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"epoch"),": ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - the epoch that the block is in"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"hash"),": ",Object(c.b)("inlineCode",{parentName:"li"},"HASH")," - the hash value of the block"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"height"),": ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - the block height"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"miner"),": ","[",Object(c.b)("inlineCode",{parentName:"li"},"ADDRESS"),"]"," - block creator, can be ",Object(c.b)("inlineCode",{parentName:"li"},"null")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"lastTxNumber"),": ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - the number of the current block's last transaction"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"parentHash"),": ",Object(c.b)("inlineCode",{parentName:"li"},"HASH")," - the hash value of the parent block"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"pivotDecision"),": ",Object(c.b)("a",{parentName:"li",href:"#decision"},Object(c.b)("inlineCode",{parentName:"a"},"Decision"))," - the decision to PoW chain"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"round"),": ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - current round"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"signatures"),": ",Object(c.b)("inlineCode",{parentName:"li"},"Array")," of ",Object(c.b)("a",{parentName:"li",href:"#signature"},"Signature")," - the signatures of the block"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"timestamp"),": ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - the timestamp of the block")),Object(c.b)("h5",{id:"signature"},"Signature"),Object(c.b)("p",null,"Block signature info"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"account"),": ",Object(c.b)("inlineCode",{parentName:"li"},"ADDRESS")," - the account address of the signature"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"votes"),": ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - the number of votes of the signing account")),Object(c.b)("h4",{id:"example-3"},"Example"),Object(c.b)("p",null,"Request"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-sh"},'curl --location --request POST \'http://localhost:12537\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "id": 1,\n    "jsonrpc": "2.0",\n    "method": "pos_getBlockByHash",\n    "params": ["0x2b8b9d33e79e1735817a1278a9c8c5be828101b281bd4190531686153bee317b"]\n}\'\n')),Object(c.b)("p",null,"Response"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-json"},'{\n    "jsonrpc": "2.0",\n    "result": {\n        "epoch": "0x5a",\n        "hash": "0x2b8b9d33e79e1735817a1278a9c8c5be828101b281bd4190531686153bee317b",\n        "height": "0x14ef",\n        "miner": "0x046ca462890f25ed9394ca9f92c979ff48e1738a81822ecab96d83813c1a433c",\n        "lastTxNumber": "0x1da7",\n        "parentHash": "0x89cf3089296679dfef822d3dca037decab2a301de6f047e56c69cb34ae0b79e2",\n        "pivotDecision": {\n          "height": "0x113af0",\n          "blockHash": "0x88df016429689c079f3b2f6ad39fa052532c56795b733da78a91ebe6a713944b"\n        },\n        "round": "0x13",\n        "signatures": [\n            {\n                "account": "0x046ca462890f25ed9394ca9f92c979ff48e1738a81822ecab96d83813c1a433c",\n                "votes": "0xc8"\n            },\n            {\n                "account": "0x459b19e745eb410c3696ff1ed15f9de9bb46aa5fefc27b0b6e8b8d7aaadfe8c0",\n                "votes": "0x32"\n            }\n        ],\n        "timestamp": "0x5cce0e869522a"\n    },\n    "id": 1\n}\n')),Object(c.b)("h3",{id:"pos_getblockbynumber"},"pos_getBlockByNumber"),Object(c.b)("p",null,"Get block information by its block number"),Object(c.b)("h4",{id:"parameters-4"},"Parameters"),Object(c.b)("ol",null,Object(c.b)("li",{parentName:"ol"},Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY|TAG"),": block number or block TAG\uff08",Object(c.b)("inlineCode",{parentName:"li"},"latest_committed"),", ",Object(c.b)("inlineCode",{parentName:"li"},"latest_voted"),"\uff09")),Object(c.b)("h4",{id:"returns-4"},"Returns"),Object(c.b)("p",null,"the same as ",Object(c.b)("a",{parentName:"p",href:"#pos_getblockbyhash"},"pos_getBlockByHash")),Object(c.b)("h4",{id:"example-4"},"Example"),Object(c.b)("p",null,"Request"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-sh"},'curl --location --request POST \'http://localhost:12537\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "id": 1,\n    "jsonrpc": "2.0",\n    "method": "pos_getBlockByNumber",\n    "params": ["0x14ef"]\n}\'\n')),Object(c.b)("h3",{id:"pos_getrewardsbyepoch"},"pos_getRewardsByEpoch"),Object(c.b)("p",null,"returns the rewards information of a PoS epoch "),Object(c.b)("h4",{id:"parameters-5"},"Parameters"),Object(c.b)("ol",null,Object(c.b)("li",{parentName:"ol"},Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY"),": epoch number")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-json"},'params: [\n  "0x4a"\n]\n')),Object(c.b)("h4",{id:"returns-5"},"Returns"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"accountRewards"),": ",Object(c.b)("inlineCode",{parentName:"li"},"Array")," of ",Object(c.b)("a",{parentName:"li",href:"#accountreward"},"AccountReward")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"powEpochHash"),": ",Object(c.b)("inlineCode",{parentName:"li"},"HASH")," - the hash value of the PoW block when the rewards are made")),Object(c.b)("h5",{id:"accountreward"},"AccountReward"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"posAddress"),": ",Object(c.b)("inlineCode",{parentName:"li"},"ADDRESS")," - PoS account address"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"powAddress"),": ",Object(c.b)("inlineCode",{parentName:"li"},"BASE32")," - PoW account address"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"reward"),": ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - the number of rewards, in the unit of Drip")),Object(c.b)("h5",{id:"example-5"},"Example"),Object(c.b)("p",null,"Request"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-sh"},'curl --location --request POST \'http://localhost:12537\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "id": 1,\n    "jsonrpc": "2.0",\n    "method": "pos_getRewardsByEpoch",\n    "params": ["0x4a"]\n}\'\n')),Object(c.b)("p",null,"Response"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-json"},'{\n    "jsonrpc": "2.0",\n    "result": {\n        "accountRewards": [\n            {\n                "posAddress": "0x459b19e745eb410c3696ff1ed15f9de9bb46aa5fefc27b0b6e8b8d7aaadfe8c0",\n                "powAddress": "NET8888:TYPE.USER:AAKSNR7XKKFFAM17MNESKAGU076T8FAG3YJ6PTHN16",\n                "reward": "0x14931d20aa21eae3e6f"\n            },\n            {\n                "posAddress": "0x046ca462890f25ed9394ca9f92c979ff48e1738a81822ecab96d83813c1a433c",\n                "powAddress": "NET8888:TYPE.USER:AAPXUPNXG96GZ4077DAV0151K7P8498N9A6DMAWK1N",\n                "reward": "0x2d49549e023888cd390"\n            }\n        ],\n        "powEpochHash": "0x361cb0f19fd13c30da467d20a84ef01aabcd55e9812c5e2fd0721ea11a52e9f1"\n    },\n    "id": 1\n}\n')),Object(c.b)("h3",{id:"pos_gettransactionbynumber"},"pos_getTransactionByNumber"),Object(c.b)("p",null,"Get the transaction information by transaction number"),Object(c.b)("h4",{id:"parameters-6"},"Parameters"),Object(c.b)("ol",null,Object(c.b)("li",{parentName:"ol"},Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY"),": transaction number")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-json"},'params: [\n  "0x4a"\n]\n')),Object(c.b)("h4",{id:"returns-6"},"Returns"),Object(c.b)("p",null,"\u4ea4\u6613\u8be6\u60c5"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"hash"),": ",Object(c.b)("inlineCode",{parentName:"li"},"HASH")," - the hash value of the transaction"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"from"),": ",Object(c.b)("inlineCode",{parentName:"li"},"ADDRESS")," - the address of the sender"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"number"),": ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - transaction number"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"blockHash"),": ","[",Object(c.b)("inlineCode",{parentName:"li"},"HASH"),"]"," - the hash value of the block that the transaction belongs to"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"blockNumber"),": ","[",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY"),"]"," - the block number of the block that the transaction belongs to"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"payload"),": ","[",Object(c.b)("inlineCode",{parentName:"li"},"OBJECT"),"]"," - information of the transaction. The content of the payload differs with different transaction types."),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"status"),": ","[",Object(c.b)("inlineCode",{parentName:"li"},"ENUM"),"]"," - the status of the transaction. Possible values are ",Object(c.b)("inlineCode",{parentName:"li"},"Executed"),", ",Object(c.b)("inlineCode",{parentName:"li"},"Failed"),", ",Object(c.b)("inlineCode",{parentName:"li"},"Discard")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"timestamp"),": ","[",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY"),"]"," - the timestamp of the transaction"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"type"),": ",Object(c.b)("inlineCode",{parentName:"li"},"ENUM")," the type of the transaction. Possible values are ",Object(c.b)("inlineCode",{parentName:"li"},"BlockMetadata"),", ",Object(c.b)("inlineCode",{parentName:"li"},"Election"),", ",Object(c.b)("inlineCode",{parentName:"li"},"Retire"),", ",Object(c.b)("inlineCode",{parentName:"li"},"Register"),", ",Object(c.b)("inlineCode",{parentName:"li"},"UpdateVotingPower"),", ",Object(c.b)("inlineCode",{parentName:"li"},"PivoteDecision"),", ",Object(c.b)("inlineCode",{parentName:"li"},"Dispute"),", ",Object(c.b)("inlineCode",{parentName:"li"},"Other"))),Object(c.b)("p",null,"There are six types of payload\uff08the payload of BlockMetadata transactions is null\uff09:"),Object(c.b)("p",null,"Register: "),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"vrfPublicKey: ",Object(c.b)("inlineCode",{parentName:"li"},"STRING")," - the VRF public key"),Object(c.b)("li",{parentName:"ul"},"publicKey: ",Object(c.b)("inlineCode",{parentName:"li"},"STRING")," - the public key")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-json"},'{\n  "publicKey": "0x90901cc921cd86c6a67bdb7652a3dc4e03e069c6ef6d8294eb4e856e396bb10e2191996a914eaaa9dfdaa75f2a3d70a3",\n  "vrfPublicKey": "0x02a0c4e36a2e9a3a2804486b7c849d0eb6f30094e3fe91a9015e9c16f9279fbff8"\n}\n')),Object(c.b)("p",null,"Election:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"publicKey: ",Object(c.b)("inlineCode",{parentName:"li"},"STRING")," - the public key"),Object(c.b)("li",{parentName:"ul"},"targetTerm: ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - the committee number under election (epoch)"),Object(c.b)("li",{parentName:"ul"},"vrfProof: ",Object(c.b)("inlineCode",{parentName:"li"},"STRING")," - the VRF proof"),Object(c.b)("li",{parentName:"ul"},"vrfPublicKey: ",Object(c.b)("inlineCode",{parentName:"li"},"STRING")," - the VRF public key")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-json"},'{\n  "publicKey": "0x8abc04b696da9699601c595cf3a9539e657262d42eef6b63fb324bb5b987418bf5491b04ed21edce4296174cb6d95fcc",\n  "targetTerm": "0x7",\n  "vrfProof": "0x03c09bec671c32ca143f67f3f965cf913993a53cc268f12954649d54548afe70e75c87fda23fbd01cd9e4af184aa06af01adfa0fce92697e811635190935cecf48aca9804a12e604df6f19455d1ca59f4f",\n  "vrfPublicKey": "0x03862bbe4b6591457ebf5d410ab12fe8e9bebe80171a8d2f73db45c5933a8173a4"\n}\n')),Object(c.b)("p",null,"UpdateVotingPower:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"address: ",Object(c.b)("inlineCode",{parentName:"li"},"HASH")," - PoS account address"),Object(c.b)("li",{parentName:"ul"},"votingPower: ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - the number of increased votes")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-json"},'{\n  "address": "0x52893f0ecd91f68b7db8a6eb04eb888b5ca1b208009eb9dfb434ad5da372f6f2",\n  "votingPower": "0xb"\n}\n')),Object(c.b)("p",null,"Retire: "),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"address: ",Object(c.b)("inlineCode",{parentName:"li"},"HASH")," - PoS account address"),Object(c.b)("li",{parentName:"ul"},"votingPower: ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - the number of retired votes")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-json"},'{\n  "address": "c70a93136ddff3023c4c5244c2be9141d242cdcb11d7ed15c053728c959b87bc",\n  "votingPower": "0xa"\n}\n')),Object(c.b)("p",null,"PivotDecision: "),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"height: ",Object(c.b)("inlineCode",{parentName:"li"},"QUANTITY")," - the height of the pivot decision"),Object(c.b)("li",{parentName:"ul"},"blockHash: ",Object(c.b)("inlineCode",{parentName:"li"},"HASH")," - the hash value of the pivot decision")),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-json"},'{\n  "blockHash": "0x0abf7b384d8bb02a98f21d1582e6d465b1e2382978d5473cbceb473039b0eef3",\n  "height": "0x2900"\n}\n')),Object(c.b)("p",null,"Dispute: "),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"address: ",Object(c.b)("inlineCode",{parentName:"li"},"HASH")," - account address"),Object(c.b)("li",{parentName:"ul"},"blsPublicKey: ",Object(c.b)("inlineCode",{parentName:"li"},"STRING")," - the BLS public key"),Object(c.b)("li",{parentName:"ul"},"vrfPublicKey: ",Object(c.b)("inlineCode",{parentName:"li"},"STRING")," - the VRF public key"),Object(c.b)("li",{parentName:"ul"},"conflictingVotes: ",Object(c.b)("inlineCode",{parentName:"li"},"ConflictingVotes")," - information of the conflicting votes")),Object(c.b)("p",null,"The structure of ConflictingVotes is shown as below:"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},"conflictVoteType: ",Object(c.b)("inlineCode",{parentName:"li"},"STRING")," - the type of the conflict vote. Possible values are ",Object(c.b)("inlineCode",{parentName:"li"},"proposal"),", ",Object(c.b)("inlineCode",{parentName:"li"},"vote")),Object(c.b)("li",{parentName:"ul"},"first: ",Object(c.b)("inlineCode",{parentName:"li"},"STRING")," - the first vote"),Object(c.b)("li",{parentName:"ul"},"second: ",Object(c.b)("inlineCode",{parentName:"li"},"STRING")," - the second vote")),Object(c.b)("h5",{id:"example-6"},"Example"),Object(c.b)("p",null,"Request"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-sh"},'curl --location --request POST \'http://localhost:12537\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n    "id": 1,\n    "jsonrpc": "2.0",\n    "method": "pos_getTransactionByNumber",\n    "params": ["0x71"]\n}\'\n')),Object(c.b)("p",null,"Response"),Object(c.b)("pre",null,Object(c.b)("code",{parentName:"pre",className:"language-json"},'{\n    "jsonrpc": "2.0",\n    "result": {\n        "blockHash": "0x355497700fc4c530c4eefa47c90deb052baaba4950934dfa6143f3c7321f3df1",\n        "blockNumber": "0x3a",\n        "from": "0x6f2e774cb8b83957d29e6a0b06551c11e632e1a0f46bee0d82b2fdc2b82fe4f9",\n        "hash": "0x5505191e2f783e141fb8c84193829e494a27f197840987821514a12a0e04a10c",\n        "number": "0x71",\n        "payload": {\n            "blockHash": "0xd66e1d6050d7070cab189a524782381e211508fa204a0674ea35fa1523cfba90",\n            "height": "0x129"\n        },\n        "status": "Executed",\n        "timestamp": "0x5cd05bea6a9b0",\n        "type": "PivotDecision"\n    },\n    "id": 1\n}\n')))}s.isMDXComponent=!0},182:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var a=n(0),i=n.n(a);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var r=i.a.createContext({}),s=function(e){var t=i.a.useContext(r),n=t;return e&&(n="function"==typeof e?e(t):b(b({},t),e)),n},p=function(e){var t=s(e.components);return i.a.createElement(r.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},u=i.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,c=e.originalType,o=e.parentName,r=l(e,["components","mdxType","originalType","parentName"]),p=s(n),u=a,m=p["".concat(o,".").concat(u)]||p[u]||d[u]||c;return n?i.a.createElement(m,b(b({ref:t},r),{},{components:n})):i.a.createElement(m,b({ref:t},r))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var c=n.length,o=new Array(c);o[0]=u;var b={};for(var l in t)hasOwnProperty.call(t,l)&&(b[l]=t[l]);b.originalType=e,b.mdxType="string"==typeof e?e:a,o[1]=b;for(var r=2;r<c;r++)o[r]=n[r];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"}}]);
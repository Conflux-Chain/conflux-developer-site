(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{132:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return r})),n.d(t,"metadata",(function(){return c})),n.d(t,"toc",(function(){return i})),n.d(t,"default",(function(){return b}));var a=n(3),o=n(7),l=(n(0),n(177)),r={id:"evm_space_guide",title:"Conflux EVM Space Guide",custom_edit_url:"https://github.com/Conflux-Chain/conflux-developer-site/edit/master/docs/v2-hardfork/evm-space-guide.md",keywords:["evm"]},c={unversionedId:"v2-hardfork/evm_space_guide",id:"v2-hardfork/evm_space_guide",isDocsHomePage:!1,title:"Conflux EVM Space Guide",description:"Installation and Setup",source:"@site/docs/v2-hardfork/evm-space-guide.md",sourceDirName:"v2-hardfork",slug:"/v2-hardfork/evm_space_guide",permalink:"/v2-hardfork/evm_space_guide",editUrl:"https://github.com/Conflux-Chain/conflux-developer-site/edit/master/docs/v2-hardfork/evm-space-guide.md",version:"current",frontMatter:{id:"evm_space_guide",title:"Conflux EVM Space Guide",custom_edit_url:"https://github.com/Conflux-Chain/conflux-developer-site/edit/master/docs/v2-hardfork/evm-space-guide.md",keywords:["evm"]},sidebar:"evmSpace",previous:{title:"Network Endpoints",permalink:"/conflux-doc/docs/EVM-Space/evm_space_networks"},next:{title:"Getting Started with MetaMask",permalink:"/guides/en/user_metamask_interact_evmspace"}},i=[{value:"Installation and Setup",id:"installation-and-setup",children:[{value:"Installing the Conflux client",id:"installing-the-conflux-client",children:[]},{value:"Installing Fluent",id:"installing-fluent",children:[]},{value:"Installing MetaMask",id:"installing-metamask",children:[]}]},{value:"Configuring the Conflux EVM Space",id:"configuring-the-conflux-evm-space",children:[{value:"Connecting to a local node",id:"connecting-to-a-local-node",children:[]},{value:"Running the Conflux EVM Space",id:"running-the-conflux-evm-space",children:[]}]},{value:"Connecting Wallets to the Conflux and EVM Spaces",id:"connecting-wallets-to-the-conflux-and-evm-spaces",children:[{value:"Connecting Fluent to the Conflux Native Space through a local RPC endpoint",id:"connecting-fluent-to-the-conflux-native-space-through-a-local-rpc-endpoint",children:[]},{value:"Connecting Fluent to the Conflux Space through a remote RPC endpoint",id:"connecting-fluent-to-the-conflux-space-through-a-remote-rpc-endpoint",children:[]},{value:"Connecting MetaMask to the EVM Space through a local RPC endpoint",id:"connecting-metamask-to-the-evm-space-through-a-local-rpc-endpoint",children:[]},{value:"Connecting MetaMask to the EVM Space through a remote RPC endpoint",id:"connecting-metamask-to-the-evm-space-through-a-remote-rpc-endpoint",children:[]}]},{value:"Transferring funds",id:"transferring-funds",children:[{value:"Transferring funds from the Conflux Native Space to the Conflux EVM Space",id:"transferring-funds-from-the-conflux-native-space-to-the-conflux-evm-space",children:[]},{value:"Transferring funds from the Conflux EVM Space to the Conflux Native Space.",id:"transferring-funds-from-the-conflux-evm-space-to-the-conflux-native-space",children:[]}]}],p={toc:i};function b(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(l.b)("wrapper",Object(a.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(l.b)("h2",{id:"installation-and-setup"},"Installation and Setup"),Object(l.b)("h3",{id:"installing-the-conflux-client"},"Installing the Conflux client"),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},"Clone the ",Object(l.b)("inlineCode",{parentName:"li"},"conflux-rust")," project."),Object(l.b)("li",{parentName:"ol"},"Switch to the ",Object(l.b)("inlineCode",{parentName:"li"},"evm_space_test")," branch."),Object(l.b)("li",{parentName:"ol"},"Follow the instructions on how to build the Conflux client from source. "),Object(l.b)("li",{parentName:"ol"},"Ensure that you can run the ",Object(l.b)("inlineCode",{parentName:"li"},"conflux-rust")," client.")),Object(l.b)("h3",{id:"installing-fluent"},"Installing Fluent"),Object(l.b)("p",null,"Fluent is a new wallet for Conflux."),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},"Go to ",Object(l.b)("a",{parentName:"li",href:"http://fluentwallet.com"},"http://fluentwallet.com")," and download and install the Fluent wallet."),Object(l.b)("li",{parentName:"ol"},"Create a new wallet from Fluent. This wallet will be your ",Object(l.b)("strong",{parentName:"li"},"Conflux wallet"),".")),Object(l.b)("h3",{id:"installing-metamask"},"Installing MetaMask"),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},"Go to ",Object(l.b)("a",{parentName:"li",href:"http://metamask.org"},"http://metamask.org")," and download and install the MetaMask wallet."),Object(l.b)("li",{parentName:"ol"},"Create a new wallet from MetaMask. This wallet will be your ",Object(l.b)("strong",{parentName:"li"},"Conflux EVM Space wallet"),".")),Object(l.b)("h2",{id:"configuring-the-conflux-evm-space"},"Configuring the Conflux EVM Space"),Object(l.b)("h3",{id:"connecting-to-a-local-node"},"Connecting to a local node"),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},"Go to the ",Object(l.b)("inlineCode",{parentName:"li"},"conflux-rust")," directory."),Object(l.b)("li",{parentName:"ol"},"In the ",Object(l.b)("inlineCode",{parentName:"li"},"run")," directory, make a copy of the ",Object(l.b)("inlineCode",{parentName:"li"},"tethys.toml")," to ",Object(l.b)("inlineCode",{parentName:"li"},"development.toml"),"."),Object(l.b)("li",{parentName:"ol"},"Open the ",Object(l.b)("inlineCode",{parentName:"li"},"development.toml")," file and do the following:\na. Comment or delete the ",Object(l.b)("inlineCode",{parentName:"li"},"bootnodes")," parameter (line 6).\nb. Set the node to dev mode.")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},'mode = "dev"\n')),Object(l.b)("p",null,"   c. Set the ",Object(l.b)("inlineCode",{parentName:"p"},"dev_block_interval_ms")," to ",Object(l.b)("inlineCode",{parentName:"p"},"1000")," (you can increase or decrease the block time if you prefer)."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"dev_block_interval_ms = 1000\n")),Object(l.b)("p",null,"   d. Set your Conflux wallet address as the ",Object(l.b)("inlineCode",{parentName:"p"},"mining_author"),".\ne. Enable the JSON RPC TCP port, JSON RPC HTTP port, and JSON RPC local HTTP port.\nf. Set the ",Object(l.b)("inlineCode",{parentName:"p"},"chain_id")," parameter to ",Object(l.b)("inlineCode",{parentName:"p"},"10301"),".\ng. Add the following line to set the EVM Chain ID:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"```\nevm_chain_id = 10301\n```\n")),Object(l.b)("p",null,"   h. Set a genesis account to fund your Conflux wallet by adding the following line:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},'genesis_secrets = "account.txt"\n')),Object(l.b)("ol",{start:4},Object(l.b)("li",{parentName:"ol"},"Save and close the ",Object(l.b)("inlineCode",{parentName:"li"},"development.toml")," file."),Object(l.b)("li",{parentName:"ol"},"In the ",Object(l.b)("inlineCode",{parentName:"li"},"run")," directory, create a file called ",Object(l.b)("inlineCode",{parentName:"li"},"account.txt"),"."),Object(l.b)("li",{parentName:"ol"},"Go to Fluent."),Object(l.b)("li",{parentName:"ol"},"Copy the private key of your Conflux wallet."),Object(l.b)("li",{parentName:"ol"},"Paste the private key of your Conflux wallet into the ",Object(l.b)("inlineCode",{parentName:"li"},"account.txt")," file. "),Object(l.b)("li",{parentName:"ol"},"Save and close the ",Object(l.b)("inlineCode",{parentName:"li"},"account.txt")," file.")),Object(l.b)("h3",{id:"running-the-conflux-evm-space"},"Running the Conflux EVM Space"),Object(l.b)("p",null,"To run the Conflux EVM space, you just need to run the ",Object(l.b)("inlineCode",{parentName:"p"},"conflux-rust")," client."),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},"Go to the ",Object(l.b)("inlineCode",{parentName:"li"},"run")," directory."),Object(l.b)("li",{parentName:"ol"},"Run the ",Object(l.b)("inlineCode",{parentName:"li"},"conflux-rust")," client:")),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"../target/release/conflux --config development.toml\n")),Object(l.b)("ol",{start:3},Object(l.b)("li",{parentName:"ol"},"Go to Fluent."),Object(l.b)("li",{parentName:"ol"},"Make sure you received 1000 CFX.")),Object(l.b)("h2",{id:"connecting-wallets-to-the-conflux-and-evm-spaces"},"Connecting Wallets to the Conflux and EVM Spaces"),Object(l.b)("p",null,"In this section, you'll learn how to connect different wallets to different spaces."),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"To connect to the Conflux Space, you can use both Fluent and Portal."),Object(l.b)("li",{parentName:"ul"},"To connect to the EVM Space, you can use Fluent, MetaMask, or any other Ethereum-compatible wallet.")),Object(l.b)("h3",{id:"connecting-fluent-to-the-conflux-native-space-through-a-local-rpc-endpoint"},"Connecting Fluent to the Conflux Native Space through a local RPC endpoint"),Object(l.b)("p",null,"In this section, you'll learn how to connect Fluent to your local development node that supports the EVM Space."),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},"Go to ",Object(l.b)("strong",{parentName:"li"},"Fluent")," > ",Object(l.b)("strong",{parentName:"li"},"Settings")," > ",Object(l.b)("strong",{parentName:"li"},"Network Management"),"."),Object(l.b)("li",{parentName:"ol"},"In ",Object(l.b)("strong",{parentName:"li"},"Network Management"),", click ",Object(l.b)("strong",{parentName:"li"},"Add"),"."),Object(l.b)("li",{parentName:"ol"},"In ",Object(l.b)("strong",{parentName:"li"},"Add"),':\na. Type "Conflux Local Native Space" as the network name.\nb. Enter ',Object(l.b)("inlineCode",{parentName:"li"},"http://127.0.0.1:8545")," as the new RPC URL.\nc. Enter ",Object(l.b)("inlineCode",{parentName:"li"},"1029"),' as the chain ID.\nd. Type "CFX" as the currency symbol.')),Object(l.b)("h3",{id:"connecting-fluent-to-the-conflux-space-through-a-remote-rpc-endpoint"},"Connecting Fluent to the Conflux Space through a remote RPC endpoint"),Object(l.b)("p",null,"In this section, you'll learn how to connect Fluent to you a remote RPC endpoint that supports the Conflux Space."),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},"Go to ",Object(l.b)("strong",{parentName:"li"},"Fluent")," > ",Object(l.b)("strong",{parentName:"li"},"Settings")," > ",Object(l.b)("strong",{parentName:"li"},"Network Management"),"."),Object(l.b)("li",{parentName:"ol"},"In ",Object(l.b)("strong",{parentName:"li"},"Network Management"),", click ",Object(l.b)("strong",{parentName:"li"},"Add"),"."),Object(l.b)("li",{parentName:"ol"},"In ",Object(l.b)("strong",{parentName:"li"},"Add"),':\na. Type "Conflux Remote Native Space" as the network name.\nb. Enter ',Object(l.b)("inlineCode",{parentName:"li"},"http://net12000cfx.confluxrpc.com")," as the new RPC URL.\nc. Enter ",Object(l.b)("inlineCode",{parentName:"li"},"12000"),' as the chain ID.\nd. Type "CFX" as the currency symbol.')),Object(l.b)("h3",{id:"connecting-metamask-to-the-evm-space-through-a-local-rpc-endpoint"},"Connecting MetaMask to the EVM Space through a local RPC endpoint"),Object(l.b)("p",null,"In this section, you'll learn how to connect MetaMask to you a remote RPC endpoint that supports the Conflux Space."),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},"Open the MetaMask settings."),Object(l.b)("li",{parentName:"ol"},"Go to ",Object(l.b)("strong",{parentName:"li"},"Networks")," > ",Object(l.b)("strong",{parentName:"li"},"Add Network"),"."),Object(l.b)("li",{parentName:"ol"},"In ",Object(l.b)("strong",{parentName:"li"},"Add a Network"),':\na. Type "Conflux Local EVM Space" as the network name.\nb. Enter ',Object(l.b)("inlineCode",{parentName:"li"},"http://127.0.0.1:8545")," as the new RPC URL.\nc. Enter ",Object(l.b)("inlineCode",{parentName:"li"},"10301"),' as the chain ID.\nd. Type "CFX" as the currency symbol.')),Object(l.b)("h3",{id:"connecting-metamask-to-the-evm-space-through-a-remote-rpc-endpoint"},"Connecting MetaMask to the EVM Space through a remote RPC endpoint"),Object(l.b)("p",null,"In this section, you'll learn how to connect MetaMask to you a remote RPC endpoint that supports the EVM Space."),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},"Open the MetaMask settings."),Object(l.b)("li",{parentName:"ol"},"Go to ",Object(l.b)("strong",{parentName:"li"},"Networks")," > ",Object(l.b)("strong",{parentName:"li"},"Add Network"),"."),Object(l.b)("li",{parentName:"ol"},"In ",Object(l.b)("strong",{parentName:"li"},"Add a Network"),':\na. Type "Conflux Remote EVM Space" as the network name.\nb. Enter ',Object(l.b)("inlineCode",{parentName:"li"},"http://net12001eth.confluxrpc.com")," as the new RPC URL.\nc. Enter ",Object(l.b)("inlineCode",{parentName:"li"},"12001"),' as the chain ID.\nd. Type "CFX" as the currency symbol.')),Object(l.b)("h2",{id:"transferring-funds"},"Transferring funds"),Object(l.b)("p",null,Object(l.b)("strong",{parentName:"p"},"Note:")," Currently you can only transfer funds across spaces using the Fluent cross-space bridge. However, you can transfer funds from any wallet (e.g. Fluent to MetaMask) if they're both connected to the same space."),Object(l.b)("h3",{id:"transferring-funds-from-the-conflux-native-space-to-the-conflux-evm-space"},"Transferring funds from the Conflux Native Space to the Conflux EVM Space"),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},"Open Fluent."),Object(l.b)("li",{parentName:"ol"},"Click the ",Object(l.b)("strong",{parentName:"li"},"Cross-Space")," icon."),Object(l.b)("li",{parentName:"ol"},"Connect your Fluent wallet to the bridge application."),Object(l.b)("li",{parentName:"ol"},"In the ",Object(l.b)("strong",{parentName:"li"},"Destination")," field, enter your Conflux EVM Space address."),Object(l.b)("li",{parentName:"ol"},"In ",Object(l.b)("strong",{parentName:"li"},"Amount"),", enter the amount of CFX that you wish to transfer."),Object(l.b)("li",{parentName:"ol"},"Click ",Object(l.b)("strong",{parentName:"li"},"Transfer")," to transfer CFX from your Conflux Native wallet to your Conflux EVM Space wallet."),Object(l.b)("li",{parentName:"ol"},"Go to MetaMask to verify that you received the funds.")),Object(l.b)("h3",{id:"transferring-funds-from-the-conflux-evm-space-to-the-conflux-native-space"},"Transferring funds from the Conflux EVM Space to the Conflux Native Space."),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},"Open Fluent."),Object(l.b)("li",{parentName:"ol"},"Click the ",Object(l.b)("strong",{parentName:"li"},"Cross-Space")," icon."),Object(l.b)("li",{parentName:"ol"},"Connect your MetaMask wallet to the bridge application."),Object(l.b)("li",{parentName:"ol"},"In the ",Object(l.b)("strong",{parentName:"li"},"Destination")," field, enter you Conflux Native Space address."),Object(l.b)("li",{parentName:"ol"},"In ",Object(l.b)("strong",{parentName:"li"},"Amount"),", enter the amount of CFX that you wish to transfer."),Object(l.b)("li",{parentName:"ol"},"Click ",Object(l.b)("strong",{parentName:"li"},"Transfer")," to transfer CFX from your Conflux EVM Space wallet to your Conflux Native Space wallet."),Object(l.b)("li",{parentName:"ol"},"Go to Fluent to verify that you received the funds.")))}b.isMDXComponent=!0},177:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var a=n(0),o=n.n(a);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=o.a.createContext({}),b=function(e){var t=o.a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},u=function(e){var t=b(e.components);return o.a.createElement(p.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},d=o.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,r=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=b(n),d=a,m=u["".concat(r,".").concat(d)]||u[d]||s[d]||l;return n?o.a.createElement(m,c(c({ref:t},p),{},{components:n})):o.a.createElement(m,c({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,r=new Array(l);r[0]=d;var c={};for(var i in t)hasOwnProperty.call(t,i)&&(c[i]=t[i]);c.originalType=e,c.mdxType="string"==typeof e?e:a,r[1]=c;for(var p=2;p<l;p++)r[p]=n[p];return o.a.createElement.apply(null,r)}return o.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);